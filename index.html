<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title data-localize="title">HUST Open Source Mirrors</title>
		<link href="/assets/css/bootstrap.min.css" rel="stylesheet"/>
		<style type="text/css">
			html,
			body {
				height: 100%;
			}
			.container {
				width: auto;
			}
			.container .credit {
				margin: 13px 0;
			}
			.centerblock {
				text-align: center;
			}
			#wrap {
				min-height: 100%;
				height: auto !important;
				height: 100%;
				margin: 0 auto -80px;
			}
			#push,
			#footer {
				height: 80px;
			}
			#footer {
				background-color: #f5f5f5;
			}
			@media (max-width: 767px) {
				#footer {
					margin-left: -20px;
					margin-right: -20px;
					padding-left: 20px;
					padding-right: 20px;
				}
			}
			#wrap > .container {
				padding-top: 60px;
			}
		</style>
		<link href="/assets/css/bootstrap-responsive.min.css" rel="stylesheet"/>
	</head>
	<body>
		<div id="wrap">
			<div class="navbar navbar-fixed-top">
				<div class="navbar-inner">
					<div class="container">
						<a class="brand" href="/" data-localize="main-name">HUST Open Source Mirrors</a>
						<ul class="nav">
							<li class="active"><a href="/" data-localize="nav.home">Home</a></li>
							<li><a href="/help" data-localize="nav.help">Help</a></li>
							<li><a href="/graph" data-localize="nav.graph">Graph</a></li>
						</ul>
					</div>
				</div>
			</div>
			<div class="container">
				<div class="centerblock">
					<h1 data-localize="title">HUST Open Source Mirrors</h1>
					<p data-localize="autoupdate-info">The table below is automatically updated every 10 seconds.</p>
					<noscript><div class="alert alert-error"><span data-localize="javascript-needed">Javascript is required. 本页面需要 Javascript。</span></div></noscript>
					<table class="table" id="mirrorstable">
						<tr><th data-localize="table.name">Name</th><th data-localize="table.upstream">Upstream</th><th data-localize="table.size">Size</th><th data-localize="table.status">Status</th><th data-localize="table.lastupdate">Last Update</th><th data-localize="table.nextupdate">Next Update</th></tr>
						<tr id="archlinux" class="mirrors"><td><a href="archlinux/">Arch Linux</a></td></tr>
						<tr id="archlinuxarm" class="mirrors"><td><a href="archlinuxarm/">Arch Linux ARM</a></td></tr>
						<tr id="backtrack" class="mirrors"><td><a href="backtrack/">BackTrack</a></td></tr>
						<tr id="centos" class="mirrors"><td><a href="centos/">CentOS</a></td></tr>
						<tr id="cygwin" class="mirrors"><td><a href="cygwin/">Cygwin</a></td></tr>
						<tr id="debian" class="mirrors"><td><a href="debian/">Debian</a></td></tr>
						<tr id="debian-cd" class="mirrors"><td><a href="debian-cd/">Debian CD</a></td></tr>
						<tr id="deepin" class="mirrors"><td><a href="deepin/">Deepin</a></td></tr>
						<tr id="deepin-cd" class="mirrors"><td><a href="deepin-cd/">Deepin CD</a></td></tr>
						<tr id="fedora" class="mirrors"><td><a href="fedora/">Fedora</a></td></tr>
						<tr id="gentoo" class="mirrors"><td><a href="gentoo/">Gentoo</a></td></tr>
						<tr id="gentoo-portage" class="mirrors"><td><a href="gentoo-portage/">Gentoo Portage</a></td></tr>
						<tr id="kali" class="mirrors"><td><a href="kali/">Kali</a></td></tr>
						<tr id="kali-images" class="mirrors"><td><a href="kali-images/">Kali CD Images</a></td></tr>
						<tr id="kali-security" class="mirrors"><td><a href="kali-security/">Kali Security</a></td></tr>
						<tr id="linuxmint" class="mirrors"><td><a href="linuxmint/">LinuxMint</a></td></tr>
						<tr id="linuxmint-cd" class="mirrors"><td><a href="linuxmint-cd/">LinuxMint CD</a></td></tr>
						<tr id="opensuse" class="mirrors"><td><a href="opensuse/">openSUSE</a></td></tr>
						<tr id="raspbian" class="mirrors"><td><a href="raspbian/">Raspbian</a></td></tr>
						<tr id="ubuntu" class="mirrors"><td><a href="ubuntu/">Ubuntu</a></td></tr>
						<tr id="ubuntu-releases" class="mirrors"><td><a href="ubuntu-releases/">Ubuntu Releases</a></td></tr>
					</table>
				</div>
			</div>
			<div id="push"></div>
            		</div>
		<div id="footer">
			<div class="container centerblock">
				<p class="muted credit" data-localize="credit">This site is brought to you by <a href="http://qiming.hust.edu.cn/" target="qiming">Qiming College, HUST</a> and <a href="http://www.hustunique.com/" target="_blank">Unique Studio</a>.</p>
				<p class="muted credit" data-localize="contact">Contact us at <a href="http://www.google.com/recaptcha/mailhide/d?k=01h7Er0RVnO4wvIFgIk2lR-g==&c=-7_mZ8fYpJyWgM9qxj57zKaij5zJpRkBUBNpq2619zs=" target="_blank" onclick="window.open('http://www.google.com/recaptcha/mailhide/d?k=01h7Er0RVnO4wvIFgIk2lR-g==&c=-7_mZ8fYpJyWgM9qxj57zKaij5zJpRkBUBNpq2619zs=', '', 'toolbar=0,scroolbars=0,location=0,menubar=0,resizable=0,width=500,height=300');return false;">our email address</a></p>
			</div>
		</div>
		<script src="/assets/js/jquery.min.js" type="text/javascript"></script>
		<script src="/assets/js/jquery.localize.js" type="text/javascript"></script>
		<script src="/assets/js/strftime.min.js" type="text/javascript"></script>
		<script type="text/javascript">
		l10nopts = { skipLanguage: ["en", "en-US"], pathPrefix: "/l10n" };
		$('[data-localize]').localize('index', l10nopts);
		function ws(str, element, attr) {
			if (!attr) attr = "";
			return '<' + element + ' ' + attr + '>' + str + '</' + element + '>';
		}
		function checker() {
			$('.mirrors').each(
				function() {
					var name = $(this).attr('id');
					$.getJSON('status/' + name + '.json?t=' + new Date().getTime(), function (result) {
							var pname = result["name"];
							var pselector = $('#' + pname);
							pselector.find(":not(:first-child)").remove();
							switch (result['status']) {
								case 'success':
									result['status'] = 'Succeeded'
									pselector.attr('class', "mirrors success");
									break;
								case 'failed':
									result['status'] = 'Failed'
									pselector.attr('class', "mirrors error");
									break;
								case 'syncing':
									result['status'] = 'Synchronizing'
									pselector.attr('class', "mirrors info");
									break;
								default:
									result['status'] = 'Unknown'
									pselector.attr('class', "mirrors warning");
							}
							var td_upstream = ws(result['upstream'], 'td');

							if (!result['size'] || result['size'] < 0)
								result['size'] = 'Unknown';
							var td_size = ws(result['size'], 'td');

							var td_status = ws(result['status'], 'td', 'data-localize="status.' + result['status'] + '"');

							var lastupdate_date = new Date(parseInt(result['lastsync']) * 1000);
							if (!result['lastsync'] || parseInt(result['lastsync']) <= 0) {
								var not_synced_before = true;
								var td_lastupdate = ws("Not synced before", "td");
							} else
								var td_lastupdate = ws(strftime("%Y-%m-%d %H:%M:%S", lastupdate_date), 'td');

							var nextupdate_date = new Date(parseInt(result['nextsync']) * 1000);
							if (!result['nextsync'] || parseInt(result['nextsync']) <= 0)
								if (not_synced_before)
									var td_nextupdate = ws("Not synced before", "td");
								else
									var td_nextupdate = ws("Forced re-synchronizing", "td");
							else
								var td_nextupdate = ws(strftime("%Y-%m-%d %H:%M:%S", nextupdate_date), 'td');

							pselector.append(td_upstream, td_size, td_status, td_lastupdate, td_nextupdate);
					});
				});
			setTimeout(checker, 10000);
		}
		checker();
		</script>
	</body>
</html>
<!-- Written by Qijiang Fan and Haochen Tong in Vim -->
<!-- IT Service Team @ Unique Studio -->
<!-- vim: set noet: -->
